"use strict";(self["webpackChunkquasar_project"]=self["webpackChunkquasar_project"]||[]).push([[643],{643:(a,t,o)=>{o.r(t),o.d(t,{default:()=>B});var e=o(9835),i=o(6970);const n={class:"relative fixed-center"},l={class:"q-pa-md q-gutter-sm"},r={id:"",class:"text-h5 h5 full-width"},d=(0,e._)("span",null,[(0,e._)("a",{id:"clicks"},"1"),(0,e.Uk)(". ")],-1),s={id:"pitanje"},c={class:"q-pa-md odgovori"},u={class:"q-pa-md q-gutter-sm"},p={class:"text-h6"},m=(0,e._)("div",{class:"text-h6"},"Rezultat",-1);function v(a,t,o,v,h,g){const b=(0,e.up)("q-banner"),w=(0,e.up)("q-img"),j=(0,e.up)("q-radio"),_=(0,e.up)("q-btn"),f=(0,e.up)("q-card-section"),k=(0,e.up)("q-card-actions"),z=(0,e.up)("q-card"),O=(0,e.up)("q-dialog"),q=(0,e.Q2)("close-popup");return(0,e.wg)(),(0,e.iD)("div",n,[(0,e._)("div",l,[(0,e.Wm)(b,{"inline-actions":"",rounded:"",class:"bg-positive text-white"},{default:(0,e.w5)((()=>[(0,e._)("div",r,[d,(0,e._)("span",s,(0,i.zw)(v.state.pitanje),1)])])),_:1}),(0,e.Wm)(w,{width:"700px",height:"350px",src:v.state.image,ratio:16/9},null,8,["src"])]),(0,e._)("div",c,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(v.state.odgovori,(a=>((0,e.wg)(),(0,e.j4)(j,{key:a.id,modelValue:v.state.odabraniOdgovor,"onUpdate:modelValue":t[0]||(t[0]=a=>v.state.odabraniOdgovor=a),val:a.id,label:g.getLabelOdgovor(a),color:"teal"},null,8,["modelValue","val","label"])))),128))]),(0,e._)("div",u,[(0,e.Wm)(_,{id:"PrihvatiOdgovor",color:"white","text-color":"black",label:"Prihvati odgovor",onClick:t[1]||(t[1]=a=>{g.prikaziGumb(),v.state.alert=!0,v.state.odabraniOdgovor===v.state.tocanOdgovor.id?v.state.brojTocnih=v.state.brojTocnih+1:v.state.brojNetocnih=v.state.brojNetocnih+1})}),(0,e.Wm)(_,{id:"PrihvatiIZavrsi",color:"white","text-color":"black",label:"Završi i predaj",onClick:t[2]||(t[2]=a=>{v.state.odabraniOdgovor===v.state.tocanOdgovor.id?v.state.brojTocnih=v.state.brojTocnih+1:v.state.brojNetocnih=v.state.brojNetocnih+1,v.state.zavrsniPopup=!0}),disabled:""}),(0,e.Wm)(_,{id:"Refresh",color:"white","text-color":"black",label:"Ponovno pokreni kviz",disabled:""}),(0,e.Wm)(O,{modelValue:v.state.alert,"onUpdate:modelValue":t[4]||(t[4]=a=>v.state.alert=a),persistent:""},{default:(0,e.w5)((()=>[(0,e.Wm)(z,null,{default:(0,e.w5)((()=>[(0,e.Wm)(f,null,{default:(0,e.w5)((()=>[(0,e._)("div",p,(0,i.zw)(v.state.odabraniOdgovor===v.state.tocanOdgovor.id?"Točno!":"Netočno!"),1)])),_:1}),(0,e.Wm)(f,{class:"q-pt-none"},{default:(0,e.w5)((()=>[(0,e.Uk)((0,i.zw)((v.state.odabraniOdgovor,v.state.tocanOdgovor.id,v.state.plant.latin_name+" je latinski naziv za "+v.state.tocanOdgovor.croatian_name)),1)])),_:1}),(0,e.Wm)(k,{align:"right"},{default:(0,e.w5)((()=>[(0,e.wy)((0,e.Wm)(_,{flat:"",label:"OK",color:"primary",onClick:t[3]||(t[3]=a=>{v.handleClose(),g.brPitanja()})},null,512),[[q]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,e.Wm)(O,{modelValue:v.state.zavrsniPopup,"onUpdate:modelValue":t[5]||(t[5]=a=>v.state.zavrsniPopup=a),persistent:""},{default:(0,e.w5)((()=>[(0,e.Wm)(z,null,{default:(0,e.w5)((()=>[(0,e.Wm)(f,null,{default:(0,e.w5)((()=>[m])),_:1}),(0,e.Wm)(f,{class:"q-pt-none"},{default:(0,e.w5)((()=>[(0,e.Uk)(" Broj tocnih odgovora: "+(0,i.zw)(v.state.brojTocnih),1)])),_:1}),(0,e.Wm)(f,{class:"q-pt-none"},{default:(0,e.w5)((()=>[(0,e.Uk)(" Broj netocnih odgovora: "+(0,i.zw)(v.state.brojNetocnih),1)])),_:1}),(0,e.Wm)(k,{align:"right"},{default:(0,e.w5)((()=>[(0,e.wy)((0,e.Wm)(_,{flat:"",label:"OK",color:"primary",href:"/"},null,512),[[q]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])}var h=o(499),g=o(1569),b=1;const w={setup(){const a=(0,h.qj)({tip_pitanja:1,plant:{},pitanje:"",odgovori:[],odabraniOdgovor:{},tocanOdgovor:{},brojTocnih:0,brojNetocnih:0,image:"",alert:!1,zavrsniPopup:!1});async function t(){await i(),await n(),await o()}async function o(){const t=await g.axios.get(`http://localhost:3000/image/${a.plant.id}`),o=t.data.data;if(o)if(0===Object.getOwnPropertyNames(t.data).length||void 0===t.data.data)a.image="";else{const t=o;a.image=t.image_url}else a.image=""}async function i(){const t=await g.axios.get("http://localhost:3000/plant_species/");let o=t.data.data[Math.floor(Math.random()*t.data.data.length)];a.plant=o,a.pitanje=["Koji je latinski naziv za "+a.plant.croatian_name+"?","Koji je hrvatski naziv za "+a.plant.latin_name+"?","Kojoj botaničkoj porodici pripada "+a.plant.croatian_name+"?","Koja biljna vrsta se nalazi na slici?"];const e=Math.floor(Math.random()*a.pitanje.length);a.tip_pitanja=e,a.pitanje=a.pitanje[e]}async function n(){const t=await g.axios.get("http://localhost:3000/botanical_family"),o=t.data.data;await l();let e=[];e.push(a.tocanOdgovor);while(e.length<4){let a=Math.round(Math.random()*(o.length-1)),t={id:o[a].id,latin_name:o[a].latin_name,croatian_name:o[a].croatian_name};for(var i=!1,n=0;n<e.length;n++)if(e[n].id==(null===t||void 0===t?void 0:t.id)){i=!0;break}i||e.push(t)}a.odgovori=e.map((a=>({value:a,sort:Math.random()}))).sort(((a,t)=>a.sort-t.sort)).map((({value:a})=>a)),a.odabraniOdgovor=a.odgovori[0].id}async function l(){const t=await g.axios.get(`http://localhost:3000/plant_species/${a.plant.id}`);a.tocanOdgovor=t.data.data}return(0,e.bv)((async()=>{await i(),await n(),await o()})),{state:a,randomPlant:i,getRandomBotanicalPlant:n,getCorrectAnswerFromBotanicalFamily:l,handleClose:t}},methods:{prikaziGumb(){let a=document.getElementById("PrihvatiOdgovor"),t=document.getElementById("PrihvatiIZavrsi"),o=document.getElementById("Refresh"),e=0;function i(i){e++,8===e&&(t.removeAttribute("disabled",!1),o.removeAttribute("disabled",!1),t.innerHTML="Prihvati i zavrsi",a.setAttribute("disabled",!0))}a.addEventListener("click",i,!0),o.onclick=()=>{window.location.reload()}},getLabelOdgovor(a){const t=this.state.pitanje;return t.includes("latinski naziv")?a.latin_name:t.includes("hrvatski naziv")?a.croatian_name:t.includes("botaničkoj")?a.latin_name:t.includes("nalazi na slici")?a.croatian_name:void 0},brPitanja(){b+=1,document.getElementById("clicks").innerHTML=b}}};var j=o(1639),_=o(7128),f=o(335),k=o(1480),z=o(4455),O=o(7078),q=o(4458),y=o(3190),W=o(1821),P=o(2146),x=o(9984),Z=o.n(x);const C=(0,j.Z)(w,[["render",v]]),B=C;Z()(w,"components",{QBanner:_.Z,QImg:f.Z,QRadio:k.Z,QBtn:z.Z,QDialog:O.Z,QCard:q.Z,QCardSection:y.Z,QCardActions:W.Z}),Z()(w,"directives",{ClosePopup:P.Z})}}]);